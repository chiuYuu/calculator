<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calculator</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    .active {
      background-color: #3182ce;
      color: #fff;
    }

    form {
      background-color: rgb(147, 221, 188);
      padding: 20px;
    }

    li {
      margin-top: 3px;
      margin-left: 3px;
    }
  </style>
</head>

<body>
  <div id="app">
    <div class="container flex flex-col justify-center items-center gap-x-6 h-dvh px-4 mx-auto columns-2">
      <h1 class="text-3xl font-bold mb-4">Calculator</h1>
      <form class="w-full rounded">
        <div class="flex justify-between gap-x-6">
          <!-- 數字輸入1 -->
          <div class="w-full">
            <label for="num1" class="block mb-2">第一個數字</label>
            <input id="num1" type="number" class="w-full p-2 border border-black rounded-md" placeholder="請輸入要計算的第一個數字"
              v-model.trim="inputNum1">
          </div>
          <!-- 數字輸入2 -->
          <div class="w-full">
            <label for="num2" class="block mb-2">第二個數字</label>
            <input id="num2" type="number" class="w-full p-2 border border-black rounded-md" placeholder="請輸入要計算的第二個數字"
              v-model.trim="inputNum2">
          </div>
        </div>

        <div class="mt-3">
          <div class="flex w-full rounded border border-blue-500 divide-x divide-blue-500">
            <button type="button" class="py-1 px-3 w-1/4 transition-colors hover:bg-blue-500 hover:text-white"
              @click="operator('+')" :class="{ 'active': currentOp === '+' }">
              +
            </button>
            
            <button type="button" class="py-1 px-3 w-1/4 transition-colors hover:bg-blue-500 hover:text-white"
              @click="operator('-')" :class="{ 'active': currentOp === '-' }">
              -
            </button>

            <button type="button" class="py-1 px-3 w-1/4 transition-colors hover:bg-blue-500 hover:text-white"
              @click="operator('*')" :class="{ 'active': currentOp === '*' }">
              *
            </button>

            <button type="button" class="py-1 px-3 w-1/4 transition-colors hover:bg-blue-500 hover:text-white"
              @click="operator('/')" :class="{ 'active': currentOp === '/' }">
              /
            </button>
          </div>
        </div>

        <button type="button"
          class="block py-1 px-3 border border-blue-500 rounded mt-3 w-full transition-colors hover:bg-blue-500 hover:text-white"
          @click="calBtn">
          計算結果
        </button>

        <output class="block mt-4 text-xl font-bold">
          結果： {{ result }}
        </output>
      </form>

      <article class="w-full h-[354px] bg-blue-100 rounded p-6 mt-4">
        <div class="flex gap-x-5">
          <p class="m-0 flex items-center text-xl font-bold">歷史紀錄</p>
          <button class="py-1 px-3 border border-sky-500 rounded hover:bg-blue-500 hover:text-white"
            @click="clearHistories">清空紀錄</button>
        </div>
        <ul>
          <li v-for="(history, index) in historyList" :key="history">
            第 {{ index + 1 }} 項： {{ history }}
          </li>
        </ul>
      </article>
    </div>
  </div>

  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <script src="./calculator.js"></script>
</body>

</html>